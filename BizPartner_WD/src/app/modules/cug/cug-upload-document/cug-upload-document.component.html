<!DOCTYPE html>
<html>
  <body>
    <div>
      <div>
        <button mat-button (click)="previousPage()" color="primary" id="back" class="ml-3 mt-3">
          <mat-icon matPrefix svgIcon="heroicons_outline:arrow-narrow-left"></mat-icon>
          <span class="ml-2 text-primary-500 dark:text-primary-400">Back</span>
        </button>
      </div>
      <div class="flex-col justify-start items-start ml-8">
        <div class="text-3xl md:text-4xl font-extrabold">
          CUG (Closed User Group)
        </div>
      </div>
      <form [formGroup]="CugUploadForm">
        <div class="table-section">
          <div class="ml-8 mr-8 flex-auto p-6 sm:p-10 rounded-2xl shadow  bg-card">
            <div class="">
              <div class="card">
                <div class="size1">
                  <div class="textbox-custom">
                    <mat-form-field  floatLabel="always" class="w-100 bg-card">
                      <mat-label>Cug ID</mat-label>
                      <input matInput type="text" class="form-control input-content" placeholder="CUG ID" formControlName="cug_id" casetransform required/>
                      <mat-error *ngIf="CugUploadForm.get('cug_id').hasError('required')">{{ getDropdownErrorMessage("cug_id") }}</mat-error>
                    </mat-form-field>
                  </div>
                </div>
                  <div class="size2">
                    <div class="textbox-custom">
                      <mat-form-field  floatLabel="always" class="w-100 bg-card">
                        <mat-label>Memo ID</mat-label>
                        <input matInput type="text" class="form-control input-content" placeholder="Memo ID" formControlName="memo_id" casetransform required/>
                        <mat-error *ngIf="CugUploadForm.get('memo_id').hasError('required')">{{ getDropdownErrorMessage("memo_id") }}</mat-error>
                      </mat-form-field>
                    </div>
                  </div>
              </div>
              <div class="card">
                <div class="size1">
                  <div class="textbox-custom">
                    <mat-form-field  floatLabel="always" class="w-100 bg-card">
                      <mat-label>Request ID</mat-label>
                      <input matInput type="text" class="form-control input-content" placeholder="Request ID" formControlName="request_id" casetransform required />
                      <mat-error *ngIf="CugUploadForm.get('request_id').hasError('required')">{{ getDropdownErrorMessage("request_id") }}</mat-error>
                    </mat-form-field>
                  </div>
                </div>
                <div class="size2">
                  <div class="textbox-custom">
                    <mat-form-field  floatLabel="always" class="w-100 bg-card">
                      <mat-label>Company Name</mat-label>
                      <input matInput type="text" class="form-control input-content" placeholder="Company Name" formControlName="company_name" casetransform required />
                      <mat-error *ngIf="CugUploadForm.get('company_name').hasError('required')">{{ getDropdownErrorMessage("company_name") }}</mat-error>
                    </mat-form-field>
                  </div>
                </div>
              </div>
              <div class="card">
                <div class="size1">
                  <div class="textbox-custom">
                    <mat-form-field  floatLabel="always" class="w-100 bg-card">
                      <mat-label>Customer ID</mat-label>
                      <input matInput type="text" class="form-control input-content" placeholder="Customer ID" formControlName="customer_id" casetransform required />
                      <mat-error *ngIf="CugUploadForm.get('customer_id').hasError('required')">{{ getDropdownErrorMessage("customer_id") }}</mat-error>
                    </mat-form-field>
                  </div>
                </div>
                <div class="size2">
                  <div class="textbox-custom">
                    <mat-form-field  floatLabel="always" class="w-100 bg-card">
                      <mat-label>Promotion Group</mat-label>
                      <input matInput type="text" class="form-control input-content" placeholder="Promotion Group" formControlName="promotion_group" casetransform required/>
                      <mat-error *ngIf="CugUploadForm.get('promotion_group').hasError('required')">{{ getDropdownErrorMessage("promotion_group") }}</mat-error>
                    </mat-form-field>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="flex flex-row justify-end items-center mx-8 mt-5" id="uploadDocument">
            <button (click)="openFile()" mat-flat-button  mat-flat-button color='celcom-white-alternate' id="upload-document-button" aria-label="Upload Document">
              <!-- <div class="icon-logo"></div> -->
              Upload
            </button>
            <input type="file" id="fileUpload"  (change)="handleFileInput($event.target.files)"  class="invisible w-0">
          </div>

          <div class="table-styling ml-8 mr-8 mt-6" id="file_upload">
            <table mat-table [dataSource]="cugUploadedFileData" class="docs-table products-table" matSort fusePerfectScrollbar>

              <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef>Document Name</th>
                <td mat-cell *matCellDef="let element">{{ element.name || 'N/A' }}</td>
              </ng-container>
    
              <ng-container matColumnDef="size">
                <th mat-header-cell *matHeaderCellDef>Size</th>
                <td mat-cell *matCellDef="let element">{{ element.size || 'N/A' }}</td>
              </ng-container>
    
              <ng-container matColumnDef="type">
                <th mat-header-cell *matHeaderCellDef>File</th>
                <td mat-cell *matCellDef="let element" style="text-decoration: underline;" >{{ element.type || 'N/A' }}</td>
              </ng-container>
    
              <tr mat-header-row *matHeaderRowDef="cugUploadedFileTableColumn;"></tr>
              <tr mat-row *matRowDef="let row; columns: cugUploadedFileTableColumn;"></tr>
            </table>
          </div>
          <div class="flex flex-row justify-end items-center mr-8 button-height">
            <!-- <button mat-flat-button color='celcom-white-alternate' class="button-styling" (click)="back()">
              Cancel
            </button> -->
            <button mat-flat-button color='celcom-blue' class="button-styling" (click)="goToNext()" [disabled]="cugUploadedFileData.length < 1 || !CugUploadForm.valid" >
              Continue
            </button>
          </div>
        </div>
      </form>
    </div>
  </body>
</html>